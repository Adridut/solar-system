<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>My first three.js app for CG1 (Exercise 2)</title>
        <style>
            body { margin: 0; }
            canvas { width: 100%; height: 100%; display: block; }
        </style>
    </head>
    <body>
        <script src="js/three.min.js"></script>
        <!-- Einbinden der OrbitControls, um die Darstellung mit der Maus rotieren zu kÃ¶nnen. -->
        <script src="js/OrbitControls.js"></script>
        <script>

            //TODO Saturn and Uranus rings
            //TODO Bumpmap and others maps...

            var renderer = new THREE.WebGLRenderer();
            renderer.setSize( window.innerWidth, window.innerHeight );
            document.body.appendChild( renderer.domElement );

            var scene = new THREE.Scene();
            var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
            var controls = new THREE.OrbitControls( camera, renderer.domElement );

            camera.position.set( 0, 0, 800 );
            camera.lookAt( 0, 0, 0 );
            controls.update();

            var planetDistanceFromSun = 1.5;
            var planetSize = 1.0;
            var sunSize = 1;

            var sun_image = new THREE.TextureLoader().load('./textures/sunmap.jpg');
            sun_texture = new THREE.MeshBasicMaterial({map: sun_image});
            var geometry = new THREE.SphereGeometry( 283.4*sunSize, 32, 32 );
            //var material = new THREE.MeshBasicMaterial( {color: 0xffba08} );
            var sun = new THREE.Mesh( geometry, sun_texture );
            sun.position.set(0, 0, 0);
            scene.add( sun );

            var mercury_image = new THREE.TextureLoader().load('./textures/mercurymap.jpg');
            geometry = new THREE.SphereGeometry( 1.0*planetSize, 32, 32 );
            material = new THREE.MeshBasicMaterial({map: mercury_image});
            var mercury = new THREE.Mesh( geometry, material );
            mercury.position.set(-288.4*planetDistanceFromSun, 0, 0);
            scene.add( mercury );

            var venus_image = new THREE.TextureLoader().load('./textures/venusmap.jpg');
            geometry = new THREE.SphereGeometry( 2.5*planetSize, 32, 32 );
            material = new THREE.MeshBasicMaterial({map: venus_image});
            var venus = new THREE.Mesh( geometry, material );
            venus.position.set(-295.3*planetDistanceFromSun, 0, 0);
            scene.add( venus );

            var earth_image = new THREE.TextureLoader().load('./textures/earthmap.jpg');
            geometry = new THREE.SphereGeometry( 2.6*planetSize, 32, 32 );
            material = new THREE.MeshBasicMaterial({map: earth_image});
            var earth = new THREE.Mesh( geometry, material );
            earth.position.set(-303.2*planetDistanceFromSun, 0, 0);
            scene.add( earth );

            var mars_image = new THREE.TextureLoader().load('./textures/marsmap.jpg');
            geometry = new THREE.SphereGeometry( 1.4*planetSize, 32, 32 );
            material = new THREE.MeshBasicMaterial({map: mars_image});
            var mars = new THREE.Mesh( geometry, material );
            mars.position.set(-312.4*planetDistanceFromSun, 0, 0);
            scene.add( mars );

            var jupiter_image = new THREE.TextureLoader().load('./textures/jupitermap.jpg');
            geometry = new THREE.SphereGeometry( 28.5*planetSize, 32, 32 );
            material = new THREE.MeshBasicMaterial({map: jupiter_image});
            var jupiter = new THREE.Mesh( geometry, material );
            jupiter.position.set(-379.1*planetDistanceFromSun, 0, 0);
            scene.add( jupiter );

            var saturn_image = new THREE.TextureLoader().load('./textures/saturnmap.jpg');
            geometry = new THREE.SphereGeometry( 23.4*planetSize, 32, 32 );
            material = new THREE.MeshBasicMaterial({map: saturn_image});
            var saturn = new THREE.Mesh( geometry, material );
            saturn.position.set(-474.2*planetDistanceFromSun, 0, 0);
            scene.add( saturn );

            var uranus_image = new THREE.TextureLoader().load('./textures/uranusmap.jpg');
            geometry = new THREE.SphereGeometry( 10*planetSize, 32, 32 );
            material = new THREE.MeshBasicMaterial({map: uranus_image});
            var uranus = new THREE.Mesh( geometry, material );
            uranus.position.set(-604.6*planetDistanceFromSun, 0, 0);
            scene.add( uranus );

            var neptune_image = new THREE.TextureLoader().load('./textures/neptunemap.jpg');
            geometry = new THREE.SphereGeometry( 7.7*planetSize, 32, 32 );
            material = new THREE.MeshBasicMaterial({map: neptune_image});
            var neptune = new THREE.Mesh( geometry, material );
            neptune.position.set(-731.1*planetDistanceFromSun, 0, 0);
            scene.add( neptune );

            var xDirection = 0;
            var yDirection = 0;

            function animate() {
                requestAnimationFrame( animate );
                mercury.position.y += -(mercury.position.x/87.97);
                mercury.position.x += (mercury.position.y/87.97);
                venus.position.y += -(venus.position.x/224.7);
                venus.position.x += (venus.position.y/224.7);
                earth.position.y += -(earth.position.x/365.26);
                earth.position.x += (earth.position.y/365.26);
                mars.position.y += -(mars.position.x/686.98);
                mars.position.x += (mars.position.y/686.98);
                jupiter.position.y += -(jupiter.position.x/4332.82);
                jupiter.position.x += (jupiter.position.y/4332.82);
                saturn.position.y += -(saturn.position.x/10755.70);
                saturn.position.x += (saturn.position.y/10755.70);
                uranus.position.y += -(uranus.position.x/30687.15);
                uranus.position.x += (uranus.position.y/30687.15);
                neptune.position.y += -(neptune.position.x/60190.03);
                neptune.position.x += (neptune.position.y/60190.03);

                controls.update();

                renderer.render( scene, camera );
            }
            animate();
        </script>
    </body>
</html>